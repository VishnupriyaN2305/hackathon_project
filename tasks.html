<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="todo_new.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
      body {
    background: #71c9ce;
    height: 100vh;
}
    .cont{
      top:30%;
    }
    </style>

</head>


<body>
   <div id="particle.js">
    <a href="Dashboard.html">
      <img src="./1.png" alt="Dashboard" width="250px" height="" data-no-retina="" style="display: inline;">
      </a>
    <div class="w3-row-padding w3-center w3-margin-top ">
        <div class="w3-third cont">
            <div class="w3-container w3-white">
          <div class="w3-card">
            <div class="w3-container w3-indigo" >
                <h3>Today</h3>
            </div>
            <ul class="w3-ul w3-card-4 w3-white" id='tasks'>
              
              </ul>
              <div>
                <form>
                  <input type=text name='txt_add_todo' id='txt_add_todo' placeholder='Enter the task' style="display: none;"> 
                <input type=button name='btn_add_todo' id='btn_add_todo' value='ADD'>
                <input type=button name='sbt_add_todo' id='sbt_add_todo' value='SUBMIT' style="display: none;">
                </form>
              </div>
          
          </div>
          </div>
        </div>
        
        <div class="w3-third cont">
          <div class="w3-container  w3-white" >
          <div class="w3-card">
            <div class="w3-container w3-indigo" >
              <h3>This week</h3>
          </div>
          <p>Standard CSS only</p>
          <p>Easy to learn</p>
          <p>No need for jQuery</p>
          <p>No JavaScript library</p>
          </div>
        </div>
        </div>
        
        <div class="w3-third cont">
          <div class="w3-container w3-white">
          <div class="w3-card">
            <div class="w3-container w3-indigo" >
              <h3>This month</h3>
          </div>
          <p>Paper like design</p>
          <p>Bold colors and shadows</p>
          <p>Equal across platforms</p>
          <p>Equal across devices</p>
          </div>
        </div>
        </div>
        </div>



        <div class="w3-container">
          
        
          <div id="id01" class="w3-modal" style="min-height:min-content;">
            <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:600px;">
        
              <div class="w3-center"><br>
                <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal">&times;</span>
              </div>
        
              <svg viewBox="10 10 10 10" style="position: absolute; z-index: -5; opacity: 0;">
                <defs>
                  <linearGradient id="boxGradient" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="30" y2="30">
                    <stop offset="0%"   stop-color="#27FDC7"/>
                    <stop offset="100%" stop-color="#0FC0F5"/>
                  </linearGradient>
              
                  <linearGradient id="lineGradient">
                    <stop offset="0%"    stop-color="#0FC0F5"/>
                    <stop offset="100%"  stop-color="#27FDC7"/>
                  </linearGradient>
              
                  <path id="todo__line" stroke="url(#lineGradient)" d="M21 12.3h168v0.1z"></path>
                  <path id="todo__box" stroke="url(#boxGradient)" d="M21 12.7v5c0 1.3-1 2.3-2.3 2.3H8.3C7 20 6 19 6 17.7V7.3C6 6 7 5 8.3 5h10.4C20 5 21 6 21 7.3v5.4"></path>
                  <path id="todo__check" stroke="url(#boxGradient)" d="M10 13l2 2 5-5"></path>
                  <circle id="todo__circle" cx="13.5" cy="12.5" r="10"></circle>
                </defs>
              </svg>
              
              
              <div class="todo-list" id="todo_list">
            
              </div>
              <form>
                <input type=text name='txt_add_todo_task' id='txt_add_todo_task' placeholder='Enter the task' style="display: none;"> 
                <input type=button name='btn_add_todo_task' id='btn_add_todo_task' value='ADD'>
                <input type=button name='sbt_add_todo_task' id='sbt_add_todo_task' value='SUBMIT' style="display: none;">
              </form>
            </div>
          </div>
        </div>
        <p id='p1'></p>
        </div>

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase.js"></script>


<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-analytics.js"></script>



<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyD94DjQ0ExYtwdMDONKsxlTLmANpCW0nd4",
    authDomain: "simplezy-25ac5.firebaseapp.com",
    databaseURL: "https://simplezy-25ac5.firebaseio.com",
    projectId: "simplezy-25ac5",
    storageBucket: "simplezy-25ac5.appspot.com",
    messagingSenderId: "239209626405",
    appId: "1:239209626405:web:fbbefaf9cea86161a5b8cc",
    measurementId: "G-3M5P0X1VGN"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
<script>

function escapeEmailAddress(email) {
  if (!email) return false

  
  email = email.toLowerCase();
  email = email.replace(/\./g, ',');
  return email;
}

var email='John123@gmail.com';

  var ref = firebase.database().ref();
  var usersRef = ref.child("tasks");
  var myUser = usersRef.child(escapeEmailAddress(email));
  
    
</script>

</body>

<script>

  


  //var ref = firebase.database().ref();
  //var playersRef = ref.child(escapeEmailAddress(email));
  //var arr=
  $(function(){

    $("#btn_add_todo").click(function(){
      $("#txt_add_todo").css("display","block");
      $("#sbt_add_todo").css("display","block");
    });
    $("#sbt_add_todo").click(function(){
      var val=$("#txt_add_todo").val();
      alert(val);
      $("#txt_add_todo").css("display","none");
      myUser.child('todo/').push({
        id:3,
        name:val,
        
      })
      $("#sbt_add_todo").css("display","none");
      
      //$("#id01").css("display","block");

    })

    var data;
    $("#btn_add_todo_task").click(function(){
      $("#txt_add_todo_task").css("display","block");
      $("#sbt_add_todo_task").css("display","block");
    });
    $("#sbt_add_todo_task").click(function(){
      var val=$("#txt_add_todo_task").val();
      var user=myUser.child('todo/');
      var a=user.orderByChild('id').
      $("#txt_add_todo_task").css("display","none");
      $("#sbt_add_todo_task").css("display","none");
    })

    myUser.child('todo').on('value',function(snapshot){
      $("#tasks").html(" ");
      data=JSON.stringify(snapshot);
      console.log(snapshot.val());
      snapshot.forEach(function(sub){
        // alert(JSON.stringify(sub.val()));
        var x=sub.val();
        //alert(JSON.stringify(x.name));


        var html=`
    <label class="todo">
      <input class="todo__state" type="checkbox" />
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 25" class="todo__icon">
     <use xlink:href="#todo__line" class="todo__line"></use>
     <use xlink:href="#todo__box" class="todo__box"></use>
     <use xlink:href="#todo__check" class="todo__check"></use>
     <use xlink:href="#todo__circle" class="todo__circle"></use>
    </svg>`;
      $("#tasks").append(html+'<div class="todo__text display=inline">'+JSON.stringify(x.name).replace(/\"/g, "")+'</div></label>');
    });

});
    });
//     myUser.child('todo').on("child_added", function(child) {
//    console.log(child.key+': '+child.val());
   
// });


    // var arr=['ek dho'];
    
    // for(var i=0;i<4;i++){
    //   var html=`
    // <label class="todo">
    //   <input class="todo__state" type="checkbox" />
    //   <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 200 25" class="todo__icon">
    //  <use xlink:href="#todo__line" class="todo__line"></use>
    //  <use xlink:href="#todo__box" class="todo__box"></use>
    //  <use xlink:href="#todo__check" class="todo__check"></use>
    //  <use xlink:href="#todo__circle" class="todo__circle"></use>
    // </svg>`;
    //   $("#todo_list").append(html+'<div class="todo__text display=inline">'+arr[i%3]+'</div></label>');
    // }
    // for(var i=0;i<4;i++){
    //   var html1=`
    //   <li class="w3-padding-16">`;
                 
    //  var html2= `<span class="w3-right">
    //                   <i class="fa fa-trash"></i>
    //                 </span>
    //             </li>`;
      
    //   $("#tasks").append(html1+" <span class='w3-xlarge'"+"id="+i+" >"+arr[i]+"</span>");
    //   $("#"+i).click(function(){
    //     $("id01").css('display','block');
    //   })
    // }
    //)};
</script>